<html>
	<head>
		<title>Filters Fast</title>
		<script src="https://integrations.missiveapp.com/missive.js"></script>
		<link href="https://integrations.missiveapp.com/missive.css" rel="stylesheet">
	</head>
	<body style="height:90%">
		<div class="column-vertical column-center margin align-center text-800">






			
			<span id="name">John</span><span id="layout-CCA">[TITLE]</span><br/>Version 19.3
		</div>
		<div class="column-vertical column-center margin section align-center">
			<span class="button-link column padding" id="reload-button">Reload</span>
		</div>
		<div class="column-vertical margin section">
			<!-- individual table for row separates left from right, while also still allowing for "section" -->
			<table>
				<tr>
					<td><span class="button column padding" id="get-subject" style="max-height:40px;">Get M Subject</span></td>
					<td><span class="columnn" id="subject-text" style="word-break: break-all">[RESULT]</span></td>
				</tr>
			</table>
		</div>
		<div class="column-vertical margin section">
			<!-- individual table for row separates left from right, while also still allowing for "section" -->
			<table>
				<tr>
					<td><span class="button column padding" id="get-cSubject">Get C Subject</span></td>
					<td><span class="columnn" id="cSubject-text" style="word-break: break-all">[RESULT]</span></td>
				</tr>
			</table>
		</div>
		<div class="column-vertical margin section">
			<table>
				<tr>
					<td><span class="button column padding" id="get-labels">Get Labels</span></td>
					<td><span class="columnn" id="labels-text" style="word-break: break-all">[RESULT]</span></td>
				</tr>
			</table>
		</div>
		<div class="column-vertical margin section">
			<table>
				<tr>
					<td><span class="button column padding" id="get-replyto">Get Reply Email</span></td>
					<td><span class="columnn" id="replyto-text" style="word-break: break-all">[RESULT]</span></td>
				</tr>
			</table>
		</div>
		<div class="column-vertical margin section">
			<table>
				<tr>
					<td><span class="button column padding" id="create-task">Create a task</span></td>
					<td><span class="columnn" id="task-text" style="word-break: break-all">[RESULT]</span></td>
				</tr>
			</table>
		</div>
		<div class="column-vertical margin section">
			<table>
				<tr>
					<td><span class="button column padding" id="get-msgcount">Get Msg Count</span></td>
					<td><span class="columnn" id="msgcount-text" style="word-break: break-all">[RESULT]</span></td>
				</tr>
			</table>
		</div>	
		<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
		<script type="text/javascript">
			//======== create a function that can be reused as needed ========
			var currentUser;
			var profileType = "CCA" //CCA, CRM, master
			function getSubject(some_param){
  				//======== parameters go here. this one does nothing, but serves as a placeholder ========
				var x = some_param; // this is never used
				//======== return the end result ========
				return "Get message subject (function not defined)";
			}
			$( document ).ready((ids) => {
				Missive.fetchUsers().then((users) => {
					$(users).each(function(){
						if(this.me){
							currentUser = this;
						}
					});	
				})
				// show user's title
				var value;
				if (profileType == "master") {
    				value = "MASTER"
				} else if (profileType == "CRM"){
    				value = "C-C-A"
				} else {
					value = "MASTER"
				}
				$("#layout").text(value);
				// if CCA show all CCA-specific items

				// if CRM show all CRM-specific items

				// if Master, show everything with a toggle to go between
			})
			function getUser() {
				return currentUser;
			}
			function getLabels() {
  				//======== no parameters this time ========
				return "Get active label(s) (function not defined)";
			}
			function getReplyTo() {
  				//======== no parameters this time ========
				return "Get reply to email address (function not defined)";
			}
			function createTask() {
  				//======== no parameters this time ========
				return "Create a task (function not defined)";
			}
			function getMsgCount() {
  				//======== no parameters this time ========
				return "Get number of messages in this thread (function not defined)";
			}
			//======== button to test that funciton works ========
			$("#get-subject").click(function () { 
				//======== run the function, optionally with parameters ========
				var value = getSubject("anything-goes-here");
				//======== write the value to the text next to the button to test that it works ========
				$("#subject-text").text(value);
			});
			//======== button to test that funciton works ========
			$("#get-cSubject").click(function () { 
				//======== run the function, no parameters ========
				var value = getUser().first_name;
				$("#name").text(value);
			});
			$("#get-labels").click(function () { 
				//======== run the function, no parameters ========
				var value = getLabels();
				$("#labels-text").text(value);
			});
			$("#get-replyto").click(function () { 
				//======== run the function, no parameters ========
				var value = getReplyTo();
				$("#replyto-text").text(value);
			});
			$("#create-task").click(function () { 
				var value = createTask();
				$("#task-text").text(value);
			});
			$("#get-msgcount").click(function () { 
				var value = getMsgCount();
				$("#msgcount-text").text(value);
			});
			$("#reload-button").click(function () { 
				Missive.reload();
			});

		</script>
	</body>
</html>